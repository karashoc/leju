(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-find-find"],{1458:function(t,e,i){"use strict";i.r(e);var n=i("dc70"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"167e":function(t,e,i){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n="https://leju.bufan.cloud";var a=n;e.default=a},"215f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{}},methods:{checkLogin:function(){var t=uni.getStorageSync("leju-token");return!!t||(uni.showModal({title:"登录提示",content:"暂未登录,是否跳转到登录界面",success:function(t){t.confirm&&uni.navigateTo({url:"/pages/mine/login/login"})}}),!1)}}},a=n;e.default=a},2909:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=o(i("6005")),a=o(i("db90")),r=o(i("06c5")),c=o(i("3427"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return(0,n.default)(t)||(0,a.default)(t)||(0,r.default)(t)||(0,c.default)()}},"336b":function(t,e,i){"use strict";var n=i("4ea4");i("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("167e")),r=function(t){return new Promise((function(e,i){uni.request({url:a.default+t.url,method:t.method,header:{token:uni.getStorageSync("leju-token")},data:t.data,timeout:5e3,success:function(t){t.data.success?e(t.data):20002==t.data.code?(uni.clearStorage(),uni.showModal({title:"登录提示",content:"登录已失效，是否重新登录",success:function(t){t.confirm&&uni.navigateTo({url:"/pages/mine/login/login"})}})):uni.showToast({title:t.data.message,icon:"none"})},fail:function(t){i(t)}})}))},c=r;e.default=c},3427:function(t,e,i){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},4916:function(t,e,i){"use strict";var n=i("72fe"),a=i.n(n);a.a},6005:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=a(i("6b75"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t){if(Array.isArray(t))return(0,n.default)(t)}},"72fe":function(t,e,i){var n=i("91a0");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("73a77514",n,!0,{sourceMap:!1,shadowMode:!1})},"8d7c":function(t,e,i){"use strict";i.r(e);var n=i("afa8"),a=i("1458");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("4916");var c,o=i("f0c5"),s=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"9d1ca35a",null,!1,n["a"],c);e["default"]=s.exports},"91a0":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.find .nav[data-v-9d1ca35a]{display:flex;justify-content:center;align-items:center;width:100%;height:%?88?%;background-color:#354e44;color:#fff;font-size:%?32?%;position:fixed;left:0;top:0;z-index:999}.find .nav .nav-item[data-v-9d1ca35a]{line-height:%?44?%;box-sizing:border-box;padding:%?10?% 0;margin:0 %?20?%;border-bottom:%?2?% solid transparent}.find .nav .active[data-v-9d1ca35a]{border-bottom:%?2?% solid #fff}.find .article-list[data-v-9d1ca35a]{margin-top:%?100?%}.find .article-list .article-item[data-v-9d1ca35a]{position:relative;width:%?674?%;height:%?482?%;border-radius:%?24?%;background-color:#fff;margin:%?28?% auto;overflow:hidden}.find .article-list .article-item .cover-img[data-v-9d1ca35a]{display:block;width:%?674?%;height:%?382?%;background-color:#8f8f94}.find .article-list .article-item .title[data-v-9d1ca35a]{position:absolute;left:%?20?%;top:%?244?%;color:#fff;font-size:%?48?%;line-height:%?68?%}.find .article-list .article-item .author[data-v-9d1ca35a]{position:absolute;left:%?20?%;top:%?316?%;color:#fff;font-size:%?30?%;line-height:%?42?%}.find .article-list .article-item .btns-bar[data-v-9d1ca35a]{width:100%;height:%?100?%;display:flex;justify-content:space-between;align-items:center;box-sizing:border-box;padding:0 %?60?%}.find .article-list .article-item .btns-bar .views-count[data-v-9d1ca35a]{height:100%;display:flex;align-items:center}.find .article-list .article-item .btns-bar .views-count .icon[data-v-9d1ca35a]{margin-right:%?30?%;width:%?45?%;height:%?30?%}.find .article-list .article-item .btns-bar .views-count .count-text[data-v-9d1ca35a]{color:#3e3e3e;font-size:%?26?%}.find .article-list .article-item .btns-bar .collect[data-v-9d1ca35a]{height:100%;display:flex;align-items:center}.find .article-list .article-item .btns-bar .collect .icon[data-v-9d1ca35a]{width:%?40?%;height:%?40?%}.find .brand-list[data-v-9d1ca35a]{margin-top:%?100?%}.find .brand-list .brand-item[data-v-9d1ca35a]{margin:%?30?%;background:#fff;border-radius:%?8?%;overflow:hidden}.find .brand-list .brand-item .cover[data-v-9d1ca35a]{width:100%;height:%?480?%;display:inline-block;overflow:hidden;position:relative}.find .brand-list .brand-item .name[data-v-9d1ca35a]{margin:%?30?%;background:#fff;border-radius:%?8?%;overflow:hidden;font-size:%?32?%;line-height:%?44?%;color:#3e3e3e;font-weight:700}.find .nomore[data-v-9d1ca35a]{display:flex;justify-content:center;align-items:center;height:%?100?%;background-color:#f1ece7;color:#777;font-size:%?30?%}',""]),t.exports=e},afa8:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"find page"},[i("v-uni-view",{staticClass:"nav"},t._l(t.navList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"nav-item",class:{active:n==t.current},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.switchTab(n)}}},[t._v(t._s(e.text))])})),1),0==t.current?i("v-uni-view",{staticClass:"article-list"},t._l(t.articleList,(function(e,n){return i("v-uni-view",{key:e.id,staticClass:"article-item"},[i("v-uni-navigator",{attrs:{url:"./articleInfo/articleInfo?articleId="+e.id}},[i("v-uni-image",{staticClass:"cover-img",attrs:{src:e.coverImg,mode:""}}),i("v-uni-text",{staticClass:"title"},[t._v(t._s(e.title))]),i("v-uni-text",{staticClass:"author"},[t._v(t._s(e.author))])],1),i("v-uni-view",{staticClass:"btns-bar"},[i("v-uni-view",{staticClass:"views-count"},[i("v-uni-image",{staticClass:"icon",attrs:{src:"/static/images/icons/view.png",mode:""}}),i("v-uni-text",{staticClass:"count-text"},[t._v(t._s(e.viewCount))])],1),i("v-uni-view",{staticClass:"collect",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.collectEvents(e.id,n)}}},[i("v-uni-image",{staticClass:"icon",attrs:{src:e.isCollected?t.collectActiveIcon:t.collectIcon,mode:""}})],1)],1)],1)})),1):i("v-uni-view",{staticClass:"brand-list"},t._l(t.brandList,(function(e){return i("v-uni-view",{key:e.id,staticClass:"brand-item"},[i("v-uni-image",{staticClass:"cover",attrs:{src:e.bigPic,mode:""}}),i("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))])],1)})),1),t.isNomore?i("v-uni-view",{staticClass:"nomore"},[t._v("已经到底了~")]):t._e()],1)},r=[]},db90:function(t,e,i){"use strict";function n(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}i("a4d3"),i("e01a"),i("d28b"),i("a630"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},dc70:function(t,e,i){"use strict";var n=i("4ea4");i("7db0"),i("c740"),i("4160"),i("caad"),i("a434"),i("2532"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("2909")),r=n(i("215f")),c=i("e8d2"),o={mixins:[r.default],data:function(){return{navList:[{text:"精选文章"},{text:"品牌列表"}],current:0,articleStart:1,articleLimit:10,brandStart:1,brandLimit:10,articleList:[],articleTotal:0,brandList:[],brandTotal:0,isNomore:!1,collectIcon:"/static/images/icons/collect2.png",collectActiveIcon:"/static/images/icons/collect2-active.png"}},onLoad:function(){this.checkLogin()&&this.init()},onReachBottom:function(){if(0==this.current){if(this.articleStart++,this.articleList.length>=this.articleTotal)return void(this.isNomore=!0);this.init()}else{if(this.brandStart++,this.brandList.length>=this.brandTotal)return void(this.isNomore=!0);this.init()}},onPullDownRefresh:function(){console.log("用户下拉了"),0==this.current?(this.articleStart=1,this.articleList=[]):(this.brandStart=1,this.brandList=[]),this.init()},methods:{init:function(){var t=this;0==this.current?(0,c.findArticleByPage)(this.articleStart,this.articleLimit).then((function(e){var i;console.log(e);var n=uni.getStorageSync("collectedArticles");e.data.rows.forEach((function(t,e){n&&n.includes(t.id)?t.isCollected=!0:t.isCollected=!1})),(i=t.articleList).push.apply(i,(0,a.default)(e.data.rows)),t.articleTotal=e.data.total})):(0,c.findBrandsByPage)(this.brandStart,this.brandLimit).then((function(e){var i;console.log(e),(i=t.brandList).push.apply(i,(0,a.default)(e.data.rows)),t.brandTotal=e.data.total})),uni.stopPullDownRefresh()},switchTab:function(t){this.current=t,uni.pageScrollTo({scrollTop:0}),this.init()},collectEvents:function(t,e){var i=uni.getStorageSync("collectedArticles");if(i){var n=i.find((function(e){return e==t}));if(n){var a=i.findIndex((function(e){return e==t}));i.splice(a,1),uni.setStorageSync("collectedArticles",i),this.articleList[e].isCollected=!1}else i.push(t),uni.setStorageSync("collectedArticles",i),this.articleList[e].isCollected=!0}else uni.setStorageSync("collectedArticles",[t]),this.articleList[e].isCollected=!0}}};e.default=o},e8d2:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.findArticleByPage=r,e.findBrandsByPage=c,e.productArticle=o;var a=n(i("336b"));function r(t,e){return(0,a.default)({url:"/lejuClient/productArticle/findArticleByPage/".concat(t,"/").concat(e)})}function c(t,e){return(0,a.default)({url:"/lejuClient/brand/findBrandsByPage/".concat(t,"/").concat(e)})}function o(t){return(0,a.default)({url:"/lejuClient/productArticle/productArticle/".concat(t)})}}}]);